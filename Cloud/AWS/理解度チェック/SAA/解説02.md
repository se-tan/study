# 11/02 SAA

## ■ Amazon EBS

デフォルトでの暗号化は、既存のEBSボリュームやスナップショットには影響しない。  

EBS暗号化における重要な検討事項は以下の通り

- デフォルトでの暗号化は、***リージョン固有の設定***。リージョンに対して暗号化を有効にした場合、  
  リージョン内の個々のボリュームやスナップショットに対して暗号化を無効にすることはできない。

- デフォルトで有効にした場合、インスタンスタイプがEBS暗号化をサポートしていれば、インスタンスを起動することができる。

- Amazon EBSは非対称CMKをサポートしない。

***

## ■ Amazon S3 *Select*

Amazon S3バケット上のCSVやJSON形式のオブジェクトから、必要なデータをSQLライクな構文で効率的に抽出できるサービス。

ほとんどのアプリケーションでは、オブジェクト全体を取得した後、詳細な分析に必要なデータのみをフィルタリングする必要がある。

S3 Select なら、ロード及び処理しなければならないデータ量を減らすことで、コストとレイテンシーを削減することができる。

***

## ■ Amazon WAF

WAFは、CloudFront, ALB, API Gateway, AppSyncなど、Webサイトやアプリケーションのコンテンツ配信によく利用するサービスと緊密に統合されている。

設定できるルールは以下の2つ

- 通常ルール
- レートベース  
  発信元IPアドレスごとにリクエストのレートを追跡し、***レートが制限値を超えたIPに対して一時的にブロック***する。  
  制限値は、5分間のタイムスパンあたりのリクエスト数として設定する。

***

## ■ AWS Global Accelerator

ローカルまたはグローバルユーザが使用するアプリケーションの可用性とパフォーマンスを向上させるサービス。

ALB/NLB、EC2インスタンスなど、単一または複数のAWSリージョンにあるアプリケーション・エンドポイントへの固定エントリーポイントとして機能する固定IPアドレスを提供する。

アプリケーションエンドポイントの健全性を継続的に監視し、1分以内に健全でないエンドポイントを検出して、トラフィックを健全なエンドポイントにリダイレクトする。

<br>

### - **CloudFrontとの違い**

|項目|Global Accelerator|CloudFront|
|----|------------------|----------|
|通信プロトコル|HTTP/S + TCP/UDP|HTTP/Sのみ|
|キャッシュ|使用しない|使用する|
|クライアント証明書|利用する|利用しない|
|クライアントIP|保存する|保存されない|
|概要|Appをエッジロケーションで実行(CDNのApp版)|いわゆるCDN|

***

## ■ AWS DataSync

オンプレミスのストレージとAmazon S3, Amazon EFS, Amazon FSx for Windows File Serverとの間で***大容量のデータを***オンラインで簡単かつ迅速に移動できるサービス。

AWS Storage Gatewayでも可能だが、データ容量が大きすぎる場合は適しておらず、  
頻繁にアクセスするデータをオンプレミスにキャッシュし、アーカイブデータをAWSサービスに安全かつ永続的に保存することで、  
データへの低レイテンシーアクセスを提供するために利用される。

***

## ■ Amazon Aurora (フェイルオーバー機能)

- 同じAZまたは異なるAZにAmazon Aurora Replica がある場合  
  ***DBインスタンスのCNAMEを反転させて、健全なレプリカを指すようにし、そのレプリカを新しいプライマリに昇格させる***(通常30秒以内)。

- シングルインスタンスの場合  
  ***同じAZに新しいDBインスタンスを作成しようとし、置き換えはベストエフォートで行われる***。