# MQ / FaaS

## ■ Amazon SES(Simple Email Service)

AWS で提供される Email サービス。API を実行することで、メール通知が可能。

## ■ Amazon SNS(Simple Notification Service)

任意のメッセージを、HTTPS などの様々なプロトコルで App から簡単に送信できる。以下の要素で構成。

- トピック  
  メッセージを送信し、通知を受信するためのアクセスポイント。  
  購読者がこのトピックを購読することで通知の送受信が可能になる。

- 購読者(サブスクライバ)  
  対象となるトピックから発信されるメッセージの購読者を設定する。  
  サブスクライバには以下プロトコルや AWS サービスを選択可能。

  - HTTP/HTTPS

  - Email

  - SQS

  - Lambda

- メッセージの発行(パブリッシュ)  
  作成したトピックに対して、App などからメッセージを発行する。  
  メッセージは SNS サービスを通じてサブスクライバへ配信される。

---

## ■ AWS Data Pipeline

データの**ETL(取り出し・変換・保存)**などの順次処理を行なうことができる。

- データの ETL 処理をスケジュール機能で自動化

- データの順次処理をワークフロー形式で定義

- 処理の成功・失敗などのイベント通知が可能

- オンプレミス環境との連携が可能

<br />

## 1. Use Case

1. 1 日 1 回定期的に DynamoDB などの DB からデータを取り出し、S3 にバックアップした後で、取り出し元のテーブルを DynamoDB から削除

2. 企業の複数拠点にある Web サーバーからアクセスログを S3 に定期的に保存・加工し、S3 から Redshift へアップロード

---

## ■ Amazon Kinesis

リアルタイムに流れてくるデータの処理に利用する。IoT デバイスからデータをリアルタイムに受信して分析する場合など。

- Kinesis Data **Streams**：収集

- Kinesis Data **Firehose**：保存

- Kinesis Data **Analytics**：分析

---

## ■ Amazon EventBridge

AWS の各種サービスや外部の SaaS などの様々なイベントソースで発生するイベントを、  
あらかじめ設定したルールに基づいて、他サービスなどの様々なターゲットにリアルタイムに連携することができるハブのようなサービス。

一例：

1. EC2 インスタンスの起動状態を監視する

2. 停止(stopped)状態となったイベントを Lambda に連携

3. Lambda の処理で自動復旧する
