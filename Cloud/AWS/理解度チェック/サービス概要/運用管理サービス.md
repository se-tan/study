# 運用管理サービス

## ■ Amazon CloudWatch

AWS のリソースの情報を収集・監視・可視化するサービス。

<br />

## 1. EC2 のメトリクス

- 標準メトリクス

| Meteorics       | Description                                          |
| :-------------- | :--------------------------------------------------- |
| CPU Utilization | CPU**使用率**                                        |
| DiskReadOps     | インスタンスストアボリュームからの読み取り回数       |
| DiskReadBytes   | インスタンスストアボリュームから読み取られたバイト数 |
| NetworkIn       | 全てのネットワーク I/F から受信されたバイト数        |

<br>

- カスタムメトリクス

  **メモリ使用率**や**ディスク使用率**、スワップ使用率など。

  EC2 インスタンス上で監視スクリプトを作成・設定し、CloudWatch に送信できる。

<br />

## 2. CloudWatch の監視間隔と保存期間

| プラン           | 課金           | 監視間隔 | 収集データの保存期間 |
| ---------------- | -------------- | -------- | -------------------- |
| 基本モニタリング | 無料           | 5 分間隔 | 最大 15 か月         |
| 詳細モニタリング | 追加料金が必要 | 1 分間隔 | 最大 15 か月         |

<br />

## 3. CloudWatch アラームによるアラームとアクション設定

CloudWatch で監視している項目が一定値以上になった場合に、アラームとアクションを起動できる。

| 状態              | 説明                                                         |
| ----------------- | ------------------------------------------------------------ |
| OK                | 定義された監視閾値を下回っている(正常)状態                   |
| ALARM             | 定義された監視閾値を上回っている(異常)状態                   |
| INSUFFICIENT-DATA | 送信されるデータが不足している為、正常か異常か判断不能な状態 |

<br />

## 4. CloudWatch Events によるイベント駆動型監視とアクション設定

AWS 上のリソースの状態を監視し、あるイベントをトリガーにアクションを実行する機能。

- EC2 インスタンスの状態変化(pending, running, terminated など)

- スケジュール(分、時、日間隔)

- Auto Scaling(起動成功、起動失敗などの状態監視)

---

## ■ CloudWatch Logs

CloudTrail や VPC フローログなどさまざまな AWS のログを統合的に収集する。

## ■ CloudTrail

AWS アカウントで操作された操作(API コール)をログとして記録する。

## ■ VPC フローログ

VPC 内のネットワーク I/F 間で行き来する通信の内容をキャプチャする機能。

## ■ AWS Config

AWS サービスで管理されているリソースの構成変更を追跡するサービス。

## ■ AWS System Manager

AWS 内の様々なリソースの運用情報を統合的に可視化、および制御する機能。

## ■ AWS Trusted Advisor

「コスト最適化」「セキュリティ」「耐障害性」「パフォーマンス」「サービスの制限」
