# ストレージサービス
## EBS (Elastic Block Store)
EC2インスタンスにアタッチするブロックストレージボリューム。
>***ブロックストレージ***  
記録領域をボリュームという単位に分割し、ボリュームの内部をさらに固定長のブロックという単位に分割して管理するストレージのこと。

<br>

## 特徴
### 1. EC2インスタンスのボリュームとして使用
EC2のルートボリューム(ブートボリューム)、または追加のボリュームとして使用可能
<br>

### 2. AZ内でレプリケート
同じAZ内の複数サーバー間で自動的にレプリケートされる。たとえハードウェア障害が発生してもデータが失われることを防ぐ。
<br>

### 3. ボリュームタイプの変更が可能
* 汎用SSD  
    最大で16,000 IOPS(I/O Per Second：入出力操作毎秒)で、かつ一定の性能を約束するものではない。

* プロビジョンドIOPS SSD  
    IOPSの最大値は64,000


>以下の2つはルートボリューム(ブートボリューム)としては使用できず、追加ボリュームとしてのみ使用可能
* スループット最適化HDD  
* Cold HDD

<br>

### 4. 容量の変更が可能

<br>

### 5. 高い耐久性のスナップショット
EBSのスナップショットを作成すると、S3の機能を使用してスナップショットを保存する。  
複数のAZの複数の施設に自動的に冗長化されるため、耐久性は**イレブンナイン**。

> スナップショット  
ある時点でのソースコードや、ファイル、ディレクトリ、データベースファイルなどの状態を抜き出したもののこと。  
バックアップをする際に、バックアップ処理中にファイルが更新されると、ファイルやディレクトリに不整合が起こることがあり、これを防ぐために使用される。

<br>

### 6. ボリュームの暗号化
ボリュームを暗号化すると、そのボリュームから作成されたスナップショットも暗号化される。  
EC2インスタンスからのデータの暗号化/復号化は等価的に行われるので、追加の操作をする必要はない。  
<br>

### 7. 永続的ストレージ
EBSはインスタンスのホストとは異なるハードウェアで管理される。従ってインスタンスの状態に関係なく永続的にデータが保存される。

>インスタンスストア  
インスタンスのホストローカルのストレージ。  
EC2インスタンスが起動している間のみ、データを保持する特徴がある。

<br>

***

## S3 (Simple Storage Service)
インターネット対応の完全マネージド型のオブジェクトストレージ。

> ***オブジェクトストレージ***  
データをファイル単位やブロック単位ではなく、オブジェクトという単位で扱う。  
オブジェクトにはストレージシステムのなかで固有のID(URI)が付与され、データとそれを扱うためのメタデータによって構成される。   
メタデータは通常のファイルシステムでも作成日や作成者などの情報を持っているが、オブジェクトではデータの種類、保存期間やコピー回数など、より多くの情報を付加可能。
<br>  
また、ディレクトリのような階層構造はなく、ストレージプールというオブジェクトの入れ物のみが作成され、メタデータによって管理される。  
オブジェクト同士はフラットな関係で、データの移動で階層構造が変わることはなく、オブジェクト数に制限はない。  
オブジェクトストレージは、一般的に、汎用ストレージを並列化した分散ファイルストレージで構成され、スケールアウトが可能。

<br>

## 特徴
### 無制限のストレージ容量
**バケット**という入れ物を作れば、データを保存し始めることができ、保存可能なデータ容量は無制限。  
1つのファイルには5TBまでという制限はある。

<br>

### 高い耐久性
リージョンを選択してバケットを作成し、データをオブジェクトとしてアップロードする。  
そのオブジェクトは1つのリージョン内の複数のAZにまたがって、自動的に冗長化して保存される。

<br>

### インターネット経由でアクセス
S3には***HTTP/HTTPS***でアクセスする。アクセスして使用することができる可用性は99.99%。  

<br>

### セキュリティ
作成時点では、作成したアカウントから許可されたユーザーやリソースからのアクセスのみを受け付ける。つまりデフォルトでププライベートである。  
設定可能なアクセス権限は以下の通り。

1. ACL  
    * 他の特定のAWSアカウントにオブジェクトの一覧、書き込み、読み取りのいずれかまたはすべてを許可
    * 誰にでもオブジェクトの一覧、書き込み、読み取りのいずれかまたはすべてを許可  
    ACLはバケットに対しても個別のオブジェクトに対しても設定可能。

2. バケットポリシー  
特定のIPアドレスからのアクセス権限など、より詳細な設定が可能。

3. IAMポリシー  
IAMユーザーに対してアクセス権を設定する他に、AWSサービスにS3へのアクセス権を設定する際に使用できる。  


<br>

### 通信、保存データの暗号化
