# セキュリティツールと機能

## ■ Azure Security Center

クラウドとオンプレミスのハイブリッド構成システム全体を保護する高度なセキュリティ機能を持った、統合セキュリティ管理システム。

- **Free**レベル(Azure Defenderなし)  
  Azureリソースのみを対象とし、基本的なセキュリティ情報のみが提供される。

- **Azure Defender**  
  Freeレベルの制限がなくなり、適用範囲がオンプレミスとクラウドに拡張される。

<br>

### - **Azureセキュリティセンターの代表的な機能**

Azureセキュリティセンターを使用する主な目的は以下の2つ

1. 現在のセキュリティ状況を把握すること

2. 将来のセキュリティを向上させること

代表的な機能は以下の5つ

- セキュアスコア(セキュリティスコア)  
  サインインしたユーザーが利用可能なサブスクリプションを自動的に評価し、1つのセキュアスコアに集約する。100%に近いほどリスクレベルが低い。

- 規制コンプライアンス(Azure Defenderが必要)  
  各種のセキュリティコンプライアンス標準に対する準拠度を簡単に評価してくれる機能
  
- セキュリティポリシー  
  特定のポリシーのベストプラクティスに準拠しているかを簡単に確認できる。  
  AzureVMやPaaSサービスの構成、オンプレミスのサーバーなどの構成が対象。

- セキュリティアラート(警告)  
  Azure Defenderを有効にすると、さまざまなリソースに対する各種のアラート発生機能を利用できる。  
  NWトラフィックの監視情報や、各種ログデータ、脅威データ分析情報がアラートの生成に利用される。  
  監視対象にログを記録するエージェントプログラムをインストールする必要があり、オンプレミスサーバーは手動で行なう。

- リソースセキュリティの検疫 (resource security hygiene)

<br>

### - **Just-In-Time仮想マシンアクセス機能 (JIT VM)**

AzureセキュリティセンターをAzure Defenderにすることで、個々の仮想マシンに対して管理用アクセスを制限するJIT VMを有効にできる。

有効なVMを利用する場合、管理用ポート(リモートデスクトップやSSH接続など)が自動的に遮断され、アクセスできなくなる。

JIT VMを有効にすることで次の点でセキュリティが向上する。

- Azure管理者だけが、仮想マシンの管理作業を許可できる
  
- 指定したIPアドレスからのアクセスだけが許可される
  
- 一定時間に限定してアクセスが許可される

***

## ■ Azure Sentinel

クラウドベースのSIEM。

> Tips：SIEM (**Security Information and Event Management**)  
> AzureセキュリティセンターやAzure ADなどの複数のログ情報を統合し、セキュリティ上の脅威を発見して、修復を行う統合セキュリティツール。

発見したセキュリティ脅威をトリガーとして、自動的に応答し、あらかじめ指定した処理を実行する機能を持つ(**プレイブック**)。

***

## ■ Azureキーコンテナ (Key Vault)

許可された利用者が安全にパスワードやデジタル証明書などを保存する機能。以下を情報一元管理可能。

- **証明書**：デジタル証明書

- **キー**：公開キー認証のキーペア

- **シークレット**：パスワードなど、それ自体が秘密の文字列

### - **Azureキーコンテナの仕組み**

Azureキーコンテナは、Azure上に作成される特別な格納領域(**キーコンテナ(Key vault)**)に機密情報を格納する。アプリケーションごとに作成して運用することも可能。

<br>

### - **Azureキーコンテナを利用するメリット**

- シークレットの管理  
  秘密の文字列を安全に格納し、それらへのアクセスを厳密に制御できる。

- キー管理  
  秘密キーの管理は厳重である必要がある。

- 証明書の管理  
  
- ハードウェアセキュリティモジュールに基づくシークレットの格納  
  HSMは、暗号に必要な機密情報を安全に生成、補完するための装置。  
  シークレットやキーの管理を完全に自社でコントロールしたい場合に適している。

***

## ■ Azure Dedicated Host (専用ホスト)

Azureの仮想マシンは、どの物理マシンに配置されるか不明。  
しかし、物理マシンを占有するサービスとして専用ホストが提供されている。

可用性ゾーンや可用性セットを適切に使うには、複数台の専用ホストが必要。また、専用ホストは、仮想マシンを配置するだけの十分なリソースが必要となる。